# 設定
https://readouble.com/laravel/6.x/ja/configuration.html

- Laravelの設定ファイルは`config`ディレクトリにまとまっている。


# 環境設定

- 実行してる環境によって、各種設定値を切り替えられると便利だよね？
- Laravelインストーラーで導入したなら`.env`ってファイルがあるはずだ
- `.env`はgit管理はするべきじゃないぞ



# 環境変数タイプ

- `.env`に書かれてる内容は全部文字列として扱われるぞ。
- しかしですね、`env()`関数を使って値を取得すると特定の文字(trueとかfalse)はbool型で取得できたりするよ。

# 環境設定の取得

- `.env`に書かれた内容は、全て`$_ENV`(PHPスーパーグローバル変数)に格納される。
- でも`env`ヘルパーを使って値を取得することもできるし、Laravelはこのヘルパ使ってるよ。

```php
env('key', default値);
```

# 現在の環境はどこで決まるか？

- 本番環境なの？ローカルなの？
- `.env`の`APP_ENV`に設定している値で決まるよ

仕組み的には`config/app.php`の中で`'env' => env('APP_ENV', 'production')`ってしてるからそうなる。


# デバッグページに表示する情報を制限する

- 設定の`APP_DEBUG`が`true`になってると、デバッグページに大量の情報が表示される。
- 多すぎるわって場合は、`config/app.php`の`debug_blacklist`の中身を編集してちょうだいね。

...

`config/app.php`に`debug_blacklist`って項目なくない？
自分で勝手に追加しろってことかな


# 設定値へのアクセス

- 設定値は`config`ヘルパを使って取得できるぞ。
- アプリケーションのどこからでもアクセスできるぞ。

こんな感じで
```php
// 設定ファイルの名前と項目をドットで繋ぐ
$value = config('app.timezone');

// 逆にセットもできちゃうぞ
config(['app.timezone' => 'Asia/Tokyo']);
```

# 設定キャッシュ

- 全設定ファイルを1ファイルにまとめる機能あるよ。
- `php artisan config:cache`ってやるとできる。
- これやるとアプリケーションが高速化するからおすすめだけど開発環境ではやるべきじゃねぇ。

## 注意事項

設定キャッシュするなら`env`関数は設定ファイルの中だけで使う事だ
キャッシュすると`env`関数は全部null返すようになるから
その辺りちゃんと理解して使ってな。


## メンテナンスモード

アプリケーションをメンテするときに、外部にメンテ中だぞって表示したいときあるよね  
そういうときはこれよ:

```bash
php artisan down
php artisan serve
```

- `php artisan down`してからサーバー起動すればメンテモードになる。
- メンテモード中は503ステータスを返すぞ。

メンテが終了したら:

```bsh
php artisan up
```

これしてまたサーバー起動すればメンテモード解除されるから。


`php artisan down`にはオプションもあるけど、まぁそれは本家見てください。





