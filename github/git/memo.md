# gitの研究

`.git`の中身ってどうなってるんだろうというのが気になったので見てみたメモ



## git init

```
git init
```

このコマンドを打つと`.git`が作成され、なんか色々ファイルが増える



内容はこんな感じ

```
.git
┣ hooks
┣ info
┣ objects
┣ refs
┣ config
┣ description
┗ HEAD
```

それぞれがなんなのかはさっぱりわからないので、これから見ていくとしよう。



## git add

```
git add Readme.md
```

とりあえず`Readme.md`を作って`git add`してみた。



その結果、以下の2つのバイナリファイルができた

- `.git/index`

- `.git/objects`の中に`e6/9de29bb2d1d6434b8b29ae775ad8c2e48c5391`



バイナリエディタで開いてみた結果

`index`

```
44 49 52 43 00 00 00 02 00 00 00 01 60 6F AE 4D 3A D3 31 84 60 6F AE 4D 3A D3 31 84 00 00 00 00 00 00 00 00 00 00 81 A4 00 00 00 00 00 00 00 00 00 00 00 00 E6 9D E2 9B B2 D1 D6 43 4B 8B 29 AE 77 5A D8 C2 E4 8C 53 91 00 09 52 65 61 64 6D 65 2E 6D 64 00 8F 2D 87 DE 5D 44 5F D6 EA C4 8F AD FA BD 81 FA B7 FF 78 1E
```

`e6/9de29bb2d1d6434b8b29ae775ad8c2e48c5391`

```
78 01 4B CA C9 4F 52 30 60 00 00 09 B0 01 F0
```

うむ、わからん。



とりあえず、`git add`するとこのファイルが出来るらしいということがわかった。



### ファイルを消したらどうなるのか

`index`の方を削除すると`git add`したことが無かったことになるのか、`git status`をすると`Readme.md`を`git add`しろということになっていた。



`e6`の方を削除しても、`git status`すると登録されたことになっているので、`index`の方でaddしたファイルを記憶しているっぽい。



`e6`がないままコミットしたらどうなるんだろう🤔