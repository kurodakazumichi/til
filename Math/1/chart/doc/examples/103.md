

# ある変域で2次不等式が常に成り立つ条件

$0 <= x <=2$の範囲において、常に$x^2-2ax+3a > 0$が成り立つように、定数aの値の範囲を定めよ。



2次式を平方完成し、グラフを考える。
$$
f(x) = x^2 -2ax + 3a として、平方完成をすると \\
f(x) = (x-a)^2 - a^2 + 3a
$$
$f(x)$は軸が$a$の下に凸な放物線である。



> ここでグラフを書いて軸($a$)の位置と$f(x)$の最小値を考える。



- 軸が定義域の左側にきているとき、つまり$a < 0$の時、最小値は$f(0)$なので

$$
f(0) = 3aとなり、最小値が0より大きくならないといけないので \\
3a > 0 ... a > 0
$$

これは$a < 0$を満たさない。



- 軸が定義域の範囲にあるとき、つまり$0 \le a \le 2$の時、最小値は$f(a)$なので

$$
f(a) = -a^2 + 3a であるから、 -a^2 + 3a > 0 \\
すなわち a(a-3) < 0 \\
よって、0 < a < 3 \ \ \ ... グラフを書くとわかりやすい
$$

これと、$0 \le a \le 2$の共通範囲は、$0 < a \le 2$



- 軸が定義域の右側にきているとき、つまり2 < aのとき、最小値は$f(2)$なので

$$
f(2) = 4 - 4a + 3aなので、4 - a > 0 \\
よって a < 4
$$

これと、$2 < a$との共通範囲は、$2 < a < 4$



全てを満たすaの範囲は、$0 < a < 4$



```js
// 問題からわかること
// 下に凸の放物線である
// 定義域は 0 <= x <= 2である
// 定義域において、常に結果が0を超えるようになるaの範囲を求めたい。

// 問の2次式をf(x)と表す
f(x);

// 定義域は0~2
(0 <= x <= 2)

// 定義域において f(x) > 0 を満たすaの範囲を求めたい
let a;

// EXPを平方完成をし、頂点を取得する
#define X, Y

// 軸が定義域の左側、内側、右側のそれぞれにおけて、最小値が0を超えるようなaの範囲を求める。

// 軸が定義域の左側
if (X < 0) {
    f(0) > 0; // f(0)が最小値になるので、これが0を超えるaの範囲を求める
    
    // このケースを満たすaはない
    undefined;
}

// 軸が定義域の内側
if (0 <= X <= 2) {
    Y > 0; // 頂点のY座標が0を超えるaの範囲を求める
    
   	// 0より大きく、2以下
    (0 < a <= 2); 
}

// 軸が定義域の右側
if (2 < x) {
    f(2) > 0; // f(2)が最小値になるので、これが0を超えるaの範囲を求める
    
    // 2を超え、4未満
    (2 < a < 4);
}

// すべての条件を満たすaの範囲は
(0 < a < 4)
```



